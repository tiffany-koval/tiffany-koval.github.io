import{f as t,a as e,_ as a,n as i,t as s,e as o,w as r,r as n,L as c,q as l}from"./shell-091aa980.js";import{x as p,A as u,s as d}from"./icon-bd54b9fa.js";import{B as b,b as h}from"./badge-55734813.js";import{_ as m}from"./number-ea0536b9.js";import"./click-card-f44c5dfc.js";import"./create-post-entry-point-wrapper-3013dfc3.js";import"./cached-intl-e5b35306.js";import"./faceplate-hovercard-70c17f5b.js";import"./popper-controller-bcfd7f7f.js";import"./makeEventDispatcher-28989282.js";import"./faceplate-tooltip-d3b1f57e.js";import"./subreddit-posting-eligibility-813b81dc.js";let v=class extends(t(d)){constructor(){super(...arguments),this.appearance=b.ALERT,this.outline=!1,this.initialCount=0,this.badgeClassname="",this.setCountEvent="",this.count=0,this.setCount=t=>{this.count=Number(t??0)},this.getCount=()=>this.count}connectedCallback(){super.connectedCallback(),this.count=this.initialCount,this.setCountEvent&&this.subscribe(this.setCountEvent,this.setCount)}disconnectedCallback(){super.disconnectedCallback(),this.setCountEvent&&this.unsubscribe(this.setCountEvent,this.setCount)}render(){return this.count?p`${h({appearance:this.appearance,outline:this.outline,content:m(this.count).toString(),attributes:{className:this.badgeClassname}})}`:u}};v.styles=[e],a([i({type:String})],v.prototype,"appearance",void 0),a([i({type:Boolean})],v.prototype,"outline",void 0),a([i({type:Number,attribute:"initial-count"})],v.prototype,"initialCount",void 0),a([i({type:String,attribute:"badge-classname"})],v.prototype,"badgeClassname",void 0),a([i({type:String,attribute:"set-count-event"})],v.prototype,"setCountEvent",void 0),a([s()],v.prototype,"count",void 0),v=a([o("dynamic-badge")],v);let C=class extends d{constructor(){super(...arguments),this.pubSubController=new n(this),this.reloadAvatarIconPartial=t=>{this.avatarIconPartial&&(t?.iconUrl&&(this.avatarIconPartial.src=`/svc/shreddit/user-drawer-button-logged-in?iconUrl=${t.iconUrl}`),this.avatarIconPartial.loading=c.Programmatic,this.avatarIconPartial.load())}}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.pubSubController.subscribe(l.AvatarUpdated,this.reloadAvatarIconPartial)}disconnectedCallback(){super.disconnectedCallback(),this.pubSubController.unsubscribe(l.AvatarUpdated,this.reloadAvatarIconPartial)}};a([r("faceplate-partial",!0)],C.prototype,"avatarIconPartial",void 0),C=a([o("user-drawer-icon-updater")],C);
//# sourceMappingURL=hui-helpers-client-js-b248c96e.js.map
